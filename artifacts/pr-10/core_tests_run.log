   Compiling gcodekit_core v0.1.0 (/home/thawkins/Projects/gcodekit6/crates/core)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.48s
     Running unittests src/lib.rs (target/debug/deps/gcodekit_core-247fdab6cc4c4b6a)
running 2 tests
test device_manager::tests::test_connect_serial_endpoint_ignored ... ignored
test device_manager::tests::test_connect_network_to_local_listener ... ok
test result: ok. 1 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s
     Running tests/async_streamer_tests.rs (target/debug/deps/async_streamer_tests-ce684063e1595d10)
running 1 test
test test_async_streamer_basic ... ok
test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
     Running tests/config_tests.rs (target/debug/deps/config_tests-d98c7f7ad6998e78)
running 2 tests
test test_config_file_overrides_default ... ok
test test_device_manager_returns_transport ... ok
test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
     Running tests/emergency_stop_timing.rs (target/debug/deps/emergency_stop_timing-e9f0aa250af464df)
running 1 test
thread '<unnamed>' panicked at crates/core/tests/emergency_stop_timing.rs:11:49:
bind: Os { code: 98, kind: AddrInUse, message: "Address already in use" }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
emergency-stop latency: not observed within timeout
test emergency_stop_timing ... ok
test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.23s
     Running tests/perf_transport_latency.rs (target/debug/deps/perf_transport_latency-8c3fe3fe2ef0414c)
running 1 test
Perf transport latency (us): n=1000, p50=21, p95=34, p99=48
test perf_transport_latency ... ok
test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s
     Running tests/persistence_tests.rs (target/debug/deps/persistence_tests-94f24c10aa6cdef3)
running 2 tests
[storage::write_json] data dir: /tmp/.tmp6IfrON/gcodekit6 exists=true
[storage::write_json] writing tmp file: /tmp/.tmp6IfrON/gcodekit6/jobs.tmp
[storage::write_json] renaming tmp -> final: /tmp/.tmp6IfrON/gcodekit6/jobs.tmp -> /tmp/.tmp6IfrON/gcodekit6/jobs.json
storage file: /tmp/.tmp6IfrON/gcodekit6/jobs.json exists=true
raw contents:
[
  {
    "id": "j1",
    "file_path": "a.gcode",
    "lines_total": 10,
    "lines_sent": 10,
    "progress": 1.0,
    "status": "Completed",
    "created_at": "2025-10-23T10:22:52.805081476Z"
  },
  {
    "id": "j2",
    "file_path": "b.gcode",
    "lines_total": 20,
    "lines_sent": 5,
    "progress": 0.25,
    "status": "Running",
    "created_at": "2025-10-23T10:22:52.805083326Z"
  }
]
test test_write_sample_config_creates_file ... ok
direct read result: Ok(2)
Loaded 2 jobs
job id: j1
job id: j2
test test_save_and_load_job_history ... ok
test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
     Running tests/streamer_ack_error_tests.rs (target/debug/deps/streamer_ack_error_tests-27b30ad46dfe3b52)
running 1 test
test test_streamer_error_ack_stops_streaming ... ok
test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
     Running tests/streamer_tests.rs (target/debug/deps/streamer_tests-e3d73765fa12e530)
running 2 tests
test test_streamer_sends_lines_to_tcp ... ok
test test_streamer_pause_resume_and_emergency_stop ... ok
test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s
     Running tests/streamer_worker_tests.rs (target/debug/deps/streamer_worker_tests-7a5fcb14376c87bb)
running 2 tests
test test_streamer_sends_lines_and_ack ... ok
test test_emergency_stop ... ok
test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
     Running tests/websocket_integration.rs (target/debug/deps/websocket_integration-37e0da428dc516d7)
running 0 tests
test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
   Doc-tests gcodekit_core
running 0 tests
test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
